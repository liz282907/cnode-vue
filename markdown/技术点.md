1. 下拉刷新
2. 视窗滚动

## 已用
1. 路由时再懒加载
2. throtte，用requestAnimationFrame再试下

## todo
1. 配路由 done
2. 框架
3. card
    - 传入style 
    - 图片，font-size,padding的em
4. 手势使得编辑显示与否
5. access token 一直在编译
6. 点赞还没有登录，登陆后回到页面 replace。监听路由watch 并fetchData。怎么把赞加上.怎么跳转到这个回复


topdetail页面两个变动：
1. watch route
2. beforeRouteEnter导航钩子获取title id等信息
存在内存还是存在localstorage里面


vm真正创建好是在mount结束以后，因此在beforeRouteEnter里面赋值给vm.someKey。然后在created里面根据这个someKey做判断是无效的。

todo：
1. 精华标签
2. 手势 ： 下拉刷新、左右滑动回退、下滑出现分享/回复悬浮按钮
3. 回退
4. 回复
5. loading标签
6. 消息页面。长按等等

## 感想
1. 可以在method里面dispatch到store里面的action.也可以通过mapActions，然后直接调用方法

## 问题
1. 对于一个有很多页面的pageIndex,存在每个模块里面，然后全局再用getter获取一遍嘛还是？
2. action之间可以互相调用吗
3. 如果子store里面和父store里面都有同样的action，谁先执行？
    ![](http://p1.bqimg.com/567571/eb524fcdd499befb.png)
    
    暂时是在子组件里面dispatch一个"clickTab",然后到actions里面dispatch("changeTab"),再做自己的事
4. 如果是非data，而是用户存在内存里的值呢，放哪边
```
axios.get('https://cnodejs.org/api/v1/topics', {
                    params: {
                        page: state.postPage,
                        tab: rootState.tab,
                        limit
                    }
                })
                .then(response => {
                    commit("FETCH_SUCCESS",response)
                })
```


## 页面逻辑
一进入home，mounted里面，判断localstorage里面有没有，有的话说明是从detail页面过来的。就加载(storage里面的，并且scroll到之前的高度)，没有的话就fetchPage。click tab的时候（监听路由变动，tab变化就reset(page=1,list = [].localstorage clear).然后fetch。
离开的话，beforeRouteLeave里面判断是否前往detail。如果是的话，setStorage并且记录当前scrolltop

## done
1. 监听tab变化


